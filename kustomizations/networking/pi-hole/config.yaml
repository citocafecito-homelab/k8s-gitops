apiVersion: v1
kind: ConfigMap
metadata:
  name: pihole-env
data:
  # Default Configuration
  TZ: "America/Bogota"
  DNSMASQ_LISTENING: "all"
  WEBPASSWORD_FILE: "/vault/secrets/admin_password"

  # FTL
  FTLCONF_misc_etc_dnsmasq_d: "true"
  FTLCONF_dns_revServers: "true,192.168.1.0/16,192.168.1.1"
  FTLCONF_dns_upstreams: "1.1.1.1;1.0.0.1;8.8.8.8;8.8.4.4"

  # DHCP Server
  FTLCONF_dhcp_active: "true"
  FTLCONF_dhcp_start: "192.168.1.160"
  FTLCONF_dhcp_end: "192.168.1.253"
  FTLCONF_dhcp_router: "192.168.1.1"
  FTLCONF_dhcp_netmask: "255.255.255.0"
  FTLCONF_dhcp_leaseTime: "86400"
  FTLCONF_dhcp_rapidCommit: "true"
  FTLCONF_dhcp_ipv6: "true"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: pihole-custom-dns
data:
  custom.conf: |
    address=/router.lan/192.168.1.1
    address=/deco.lan/192.168.1.3
    address=/deco-aux.lan/192.168.1.4
    address=/deco-x20.lan/192.168.1.5
    address=/catuai.lan/192.168.1.10
    address=/pneuma.lan/192.168.1.220
    address=/julie.lan/192.168.1.221
    address=/vault.lan/192.168.1.18
    address=/minio.lan/192.168.1.34
    address=/resume.lan/192.168.1.31
    address=/cv.lan/192.168.1.31
    address=/suwayomi.lan/192.168.1.23
    address=/wiki.lan/192.168.1.24
    address=/infisical.lan/192.168.1.33
    address=/jellyfin.lan/192.168.1.40
    address=/habiflix.lan/192.168.1.40
    address=/jellyseerr.lan/192.168.1.41
    address=/bazarr.lan/192.168.1.42
    address=/radarr.lan/192.168.1.43
    address=/sonarr.lan/192.168.1.44
    address=/prowlarr.lan/192.168.1.45
    address=/qbittorrent.lan/192.168.1.35
    address=/transmission.lan/192.168.1.36
    address=/torrent.lan/192.168.1.35
    address=/impresora.lan/192.168.1.254
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: pihole-local-override
data:
  custom-override.conf: |
    address=/habiflix.citocafecito.work/192.168.1.40
    address=/suwayomi.citocafecito.work/192.168.1.23
    address=/vault.citocafecito.work/192.168.1.18
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: pihole-adlists
data:
  adlists.list: |
    https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts
    https://cdn.jsdelivr.net/gh/hagezi/dns-blocklists@latest/domains/pro.plus.txt
    https://someonewhocares.org/hosts/zero/hosts
---


